# Intentive AI Coach (Hackathon Project)

A real-time AI accountability coach built with React Native (Expo) and the Gemini Live API. This app features bidirectional audio streaming, native voice activity detection, and a secure Firebase integration.

## üöÄ Prerequisites

1.  **Node.js** (LTS recommended)
2.  **EAS CLI** (for building the native app):
    ```bash
    npm install -g eas-cli
    ```
3.  **Expo Account**: You need an account at [expo.dev](https://expo.dev).
4.  **Apple Developer Account** (for iOS builds).

## üõ†Ô∏è Setup

1.  **Clone and Install:**
    ```bash
    git clone https://github.com/intentive-life/hackathon-intentive.git
    cd hackathon-intentive
    npm install
    ```

2.  **Firebase Configuration (Required):**
    *   Place your `GoogleService-Info.plist` file in the root directory.
    *   *Note: This file contains project credentials and is ignored by git for security.*

## üì± Running the App

This project uses **Native Modules** (Firebase, audio recording), so you cannot run it in the standard "Expo Go" app. You must build a **Development Client**.

### Step 1: Build the App (One-time)
Run this command to build the app for your device. This sends the code to Expo's build servers.

```bash
eas build --profile development --platform ios
```

*   **For your team:** If they want to build it themselves, they need their own Expo account (or be added to your Expo organization/team) and Apple Developer credentials.
*   **For testing:** You can just share the installable link/QR code generated by this command with them! They don't need the code or Expo account to just *run* it.

### Step 2: Start the Server
Once the app is installed on your phone:

1.  Start the Metro bundler:
    ```bash
    npx expo start
    ```
2.  Scan the QR code with your standard Camera app (iOS) or the built-in QR scanner in the development build.

## üìÇ Project Structure & File System

Here is a map of the important files in the project:

```text
hackathon-intentive/
‚îú‚îÄ‚îÄ App.tsx                     # Entry point & SafeArea provider
‚îú‚îÄ‚îÄ app.json                    # Expo config (bundle ID, permissions)
‚îú‚îÄ‚îÄ eas.json                    # Build profiles (dev/prod)
‚îú‚îÄ‚îÄ babel.config.js             # Babel setup
‚îú‚îÄ‚îÄ requirements.txt            # Environment version requirements
‚îú‚îÄ‚îÄ GoogleService-Info.plist    # [REQUIRED] Firebase credentials (gitignored)
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ services/
‚îÇ       ‚îú‚îÄ‚îÄ CoachLive.tsx       # üß† MAIN LOGIC: Gemini connection & UI
‚îÇ       ‚îú‚îÄ‚îÄ AudioRecorder.ts    # üé§ RECORDING: Mic -> 16kHz PCM
‚îÇ       ‚îî‚îÄ‚îÄ AudioPlayer.ts      # üîä PLAYBACK: 24kHz PCM -> Speaker
‚îî‚îÄ‚îÄ assets/                     # Images and static files
```

### Critical Files Explained
*   **`CoachLive.tsx`**: The core component. It connects to the Vertex AI backend, handles the WebSocket handshake, parses incoming "turn" events, and manages the state (Connected/Disconnected).
*   **`AudioRecorder.ts`**: Handles the microphone. It records short WAV clips, strips the headers (bytes 0-44) manually to extract raw PCM data, and sends it to Gemini.
*   **`AudioPlayer.ts`**: Handles the speaker. It receives raw PCM bytes, adds a valid WAV header on the fly, saves to a temporary file, and plays it.

## ü§ù Contributing & New Developers

1.  **Environment**: Check `requirements.txt` to align your Node/Expo versions.
2.  **Secret Keys**: You **must** ask the team lead for the `GoogleService-Info.plist` file. The app will crash immediately without it.
3.  **Local Dev**: 
    *   Do not modify `node_modules` directly.
    *   Use `npx expo start` to run the bundler.
    *   You generally *cannot* use the App Store "Expo Go" app because we use custom native code for audio. You must install the **Development Build** (see 'Running the App' above).
